var tocHeightBefore,silmeOpacity=1;$(function(){var e,t=$(".ovmap-panel").parent().data("map"),s=-1;window.innerWidth<760&&$("#tools-panel").addClass("right-collapsed");$(".right-panel > h1").on(TC.Consts.event.CLICK,function(e){e.preventDefault();e.stopPropagation();var t=$(e.target).parent();t.toggleClass("right-collapsed");if(window.innerWidth<760||window.innerHeight<550){if(!$("#silme-panel").hasClass("left-collapsed")){$("#silme-panel").toggleClass("left-collapsed");$("#silme-panel").removeClass("left-collapsed-silme");$("#silme-panel").removeClass("left-collapsed-legend");$("#silme-panel").removeClass("left-collapsed-ovmap")}if(t.hasClass("right-collapsed")){$("#silme-panel").removeClass("left-opacity");$(".tc-ctl-nav-home").removeClass("tc-hidden");$(".tc-ctl-sv-btn").removeClass("tc-hidden");$(".tc-ctl-sb").css("visibility","visible");$(".tc-ctl-scl").css("visibility","visible")}else{$("#silme-panel").addClass("left-opacity");$(".tc-ctl-nav-home").addClass("tc-hidden");$(".tc-ctl-sv-btn").addClass("tc-hidden");$(".tc-ctl-sb").css("visibility","hidden");$(".tc-ctl-scl").css("visibility","hidden")}}});$(".left-panel > h1").on(TC.Consts.event.CLICK,function(t){t.preventDefault();t.stopPropagation();var s=$(".tc-ctl-sv"),i=$(".tc-ctl-nav-home"),n=$(t.target).parent();if(n.hasClass("left-collapsed")){n.toggleClass("left-collapsed");s.addClass("tc-ctl-sv-exp");s.removeClass("tc-ctl-sv-coll");i.addClass("tc-ctl-nav-home-exp");i.removeClass("tc-ctl-nav-home-coll");i.css("left",$("#nav").css("left"));s.css("left",$("#nav").css("left"));$("#search").toggleClass("search-left-collapsed");$("#links").toggleClass("links-collapsed");if("silme-tab"==this.id){n.addClass("left-collapsed-silme");n.removeClass("left-collapsed-legend");n.removeClass("left-collapsed-ovmap");null!=e&&e.disable()}if("legend-tab"==this.id){n.addClass("left-collapsed-legend");n.removeClass("left-collapsed-silme");n.removeClass("left-collapsed-ovmap");null!=e&&e.disable()}if("ovmap-tab"==this.id){n.addClass("left-collapsed-ovmap");n.removeClass("left-collapsed-legend");n.removeClass("left-collapsed-silme");setTimeout(function(){null!=e&&e.enable()},250)}}else{if("silme-tab"==this.id&&n.hasClass("left-collapsed-silme")){n.toggleClass("left-collapsed");$("#search").toggleClass("search-left-collapsed");$("#links").toggleClass("links-collapsed");n.toggleClass("left-collapsed-silme");null!=e&&e.disable()}else if("legend-tab"==this.id&&n.hasClass("left-collapsed-legend")){n.toggleClass("left-collapsed");$("#search").toggleClass("search-left-collapsed");$("#links").toggleClass("links-collapsed");n.toggleClass("left-collapsed-legend");null!=e&&e.disable()}else if("ovmap-tab"==this.id&&n.hasClass("left-collapsed-ovmap")){n.toggleClass("left-collapsed");$("#search").toggleClass("search-left-collapsed");$("#links").toggleClass("links-collapsed");n.toggleClass("left-collapsed-ovmap");setTimeout(function(){null!=e&&e.enable()},250)}else{if("silme-tab"==this.id){n.addClass("left-collapsed-silme");n.removeClass("left-collapsed-legend");n.removeClass("left-collapsed-ovmap");null!=e&&e.disable()}if("legend-tab"==this.id){n.addClass("left-collapsed-legend");n.removeClass("left-collapsed-silme");n.removeClass("left-collapsed-ovmap");null!=e&&e.disable()}if("ovmap-tab"==this.id){n.addClass("left-collapsed-ovmap");n.removeClass("left-collapsed-legend");n.removeClass("left-collapsed-silme");setTimeout(function(){null!=e&&e.enable()},250)}}if(n.hasClass("left-collapsed")){s.removeClass("tc-ctl-sv-exp");s.addClass("tc-ctl-sv-coll");i.removeClass("tc-ctl-nav-home-exp");i.addClass("tc-ctl-nav-home-coll");i.css("left","");s.css("left","")}}if(window.innerWidth<760){$("#tools-panel").hasClass("right-collapsed")||$("#tools-panel").toggleClass("right-collapsed");if(n.hasClass("left-collapsed")){$("#tools-panel").removeClass("right-opacity");$(".tc-ctl-sb").css("visibility","visible");$(".tc-ctl-scl").css("visibility","visible")}else{$("#tools-panel").addClass("right-opacity");$(".tc-ctl-sb").css("visibility","hidden");$(".tc-ctl-scl").css("visibility","hidden")}}});$(".measure > h2").on(TC.Consts.event.CLICK,function(e){e.preventDefault();e.stopPropagation();$(e.target).parent().toggleClass("tc-collapsed")});$(".tools-panel").on(TC.Consts.event.CLICK,function(e){var i=$(e.target),n=$(".tc-ctl-sv"),o=$(".tc-ctl-nav-home");if(-1==s)for(var l=$(e.target).parent().parent().children(),r=0;r<l.length;r++)if($(e.target).parent().parent().children()[r].classList.contains("tc-ctl-lcat")){s=r;break}if(i.is("h2")){var a=i.parent();if(t&&t.layout&&a.hasClass(TC.Consts.classes.COLLAPSED)){$(this).find("h2").parent().not(".tc-ctl-search").not($(e.target).parent().parent().children()[s]).not(a).addClass(TC.Consts.classes.COLLAPSED)}a.toggleClass(TC.Consts.classes.COLLAPSED);ajustarPanell()}if(i.is(".tc-ctl-wlm-del")||i.is(".tc-ctl-wlm-del-all")){if(!$("tc-ctl-wlm-empty").hasClass("tc-hidden")&&$("#silme-panel").hasClass("left-collapsed-legend")){$("#silme-panel").removeClass("left-collapsed-legend");$("#silme-panel").addClass("left-collapsed");n.addClass("tc-ctl-sv-coll");n.removeClass("tc-ctl-sv-exp");o.addClass("tc-ctl-nav-home-coll");o.removeClass("tc-ctl-nav-home-exp");$("#search").toggleClass("search-left-collapsed");$("#links").toggleClass("links-collapsed")}ajustarPanell()}});$(".silme-panel").on(TC.Consts.event.CLICK,function(e){var s=$(e.target);if(s.is("h2")){var i=s.parent();if(t&&t.layout&&i.hasClass(TC.Consts.classes.COLLAPSED)){$(this).find("h2").parent().not(".tc-ctl-search").not(i).addClass(TC.Consts.classes.COLLAPSED)}i.toggleClass(TC.Consts.classes.COLLAPSED)}});$("legend-tab").on(TC.Consts.event.CLICK,function(e){});TC.Cfg.applyChanges=function(e){var s=$.isArray(e)?e:[e];s&&s.forEach(function(e){var s=e.apply,i=$.isArray(s.elements)?s.elements:[s.elements];$(t._$div).on(s.event,i.join(),function(){window.matchMedia(e.screenCondition).matches&&s.changes.forEach(function(e){var t=$.isArray(e.targets)?e.targets:[e.targets],s=$.isArray(e.classes)?e.classes:[e.classes];$(t.join()).toggleClass(s.join(" "),!0)})})})};if(t){t.loaded(function(){var s=$(".tc-ctl-nav-home");$("#silme-panel").hasClass("left-collapsed")?s.addClass("tc-ctl-nav-home-coll"):s.addClass("tc-ctl-nav-home-exp");habilitaClickMapa(!1);$(function(){$("form").submit(function(){return!1})});for(var i=!1,n=$("#silme-panel .panel-content")[0],o=0;o<n.children.length;o++)"ovmap"!=n.children[o].id&&"legend"!=n.children[o].id&&"ovmapH2"!=n.children[o].id&&n.children[o].children.length>0&&(i=!0);if(!i){$("#silme-panel").addClass("no-tools");$(".tc-ctl-sv").addClass("no-tools")}t.getControlsByClass("TC.control.Localitzar").length;(e=t.getControlsByClass("TC.control.OverviewMap")[0])&&e.loaded(function(){e.disable()});if(TC.control.MultiFeatureInfo){var l=t.getControlsByClass("TC.control.ListTOC")[0];if(l){var r=$("."+TC.control.MultiFeatureInfo.prototype.CLASS);r.detach();$("."+l.CLASS+"-content").prepend(r)}qWEQ}TC.Cfg.applyChanges([{screenCondition:"(max-width: 42em)",apply:{event:"click",elements:[".tc-ctl-bms-node > label"],changes:[{targets:"#tools-panel",classes:"right-collapsed"}]}}])});TC.Consts.event.TOOLSCLOSE=TC.Consts.event.TOOLSCLOSE||"toolsclose.tc";TC.Consts.event.TOOLSOPEN=TC.Consts.event.TOOLSOPEN||"toolsopen.tc";t.$events.on(TC.Consts.event.TOOLSOPEN,function(e){$(".tools-panel").removeClass("right-collapsed")});t.$events.on(TC.Consts.event.TOOLSCLOSE,function(e){var t=$(".tools-panel");t.hasClass("right-collapsed")||t.addClass("right-collapsed")});t.on(TC.Consts.event.CONTROLACTIVATE,function(e){for(var s=e.control,i=t.getControlsByClass("TC.control.Measure"),n=0,o=i.length;n<o;n++)if(i[n]===s){if(Modernizr.canvas){var l=$(".tools-panel");(window.matchMedia?!matchMedia("screen and (min-height: 40em) and (min-width: 42em)").matches:parseInt($(s.map.div).css("width"))<parseInt(s._$div.find("."+s.CLASS+(s.searchType===TC.Consts.LENGTH?"-len":"-area")).css("width"))+parseInt(l.css("width"))||TC.control.Draw&&s instanceof TC.control.Draw)&&l.addClass("right-collapsed")}else setTimeout(function(){e.control._$div.find(".tc-ctl-btn").each(function(e,t){$(t).css("visibility","hidden").css("visibility","visible")})},500);break}})}TC.loadJS(Modernizr.touch,TC.apiLocation+"lib/jQuery/jquery.touchSwipe.min.js",function(){if(Modernizr.touch){var e=$(".right-panel").swipe({swipeRight:function(){$(this).addClass("right-collapsed")}}),t=$(".left-panel").swipe({swipeLeft:function(){$(this).addClass("left-collapsed")}});e.find("li,a").addClass("noSwipe");t.find("li,a").addClass("noSwipe")}})});!function(){function e(t){var s=e.modules[t];if(!s)throw new Error('failed to require "'+t+'"');if(!("exports"in s)&&"function"==typeof s.definition){s.client=s.component=!0;s.definition.call(this,s.exports={},s);delete s.definition}return s.exports}e.loader="component";e.helper={};e.helper.semVerSort=function(e,t){for(var s=e.version.split("."),i=t.version.split("."),n=0;n<s.length;++n){var o=parseInt(s[n],10),l=parseInt(i[n],10);if(o!==l)return o>l?1:-1;var r=s[n].substr((""+o).length),a=i[n].substr((""+l).length);if(""===r&&""!==a)return 1;if(""!==r&&""===a)return-1;if(""!==r&&""!==a)return r>a?1:-1}return 0};e.latest=function(t,s){function i(e){throw new Error('failed to find latest module of "'+e+'"')}var n=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/;/(.*)~(.*)/.test(t)||i(t);for(var o=Object.keys(e.modules),l=[],r=[],a=0;a<o.length;a++){var c=o[a];if(new RegExp(t+"@").test(c)){var h=c.substr(t.length+1);null!=n.exec(c)?l.push({version:h,name:c}):r.push({version:h,name:c})}}0===l.concat(r).length&&i(t);if(l.length>0){var d=l.sort(e.helper.semVerSort).pop().name;return!0===s?d:e(d)}d=r.sort(function(e,t){return e.name>t.name})[0].name;return!0===s?d:e(d)};e.modules={};e.register=function(t,s){e.modules[t]={definition:s}};e.define=function(t,s){e.modules[t]={exports:s}};e.register("abpetkov~transitionize@0.0.3",function(e,t){t.exports=s;function s(e,t){if(!(this instanceof s))return new s(e,t);this.element=e;this.props=t||{};this.init()}s.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)};s.prototype.init=function(){var e=[];for(var t in this.props)e.push(t+" "+this.props[t]);this.element.style.transition=e.join(", ");this.isSafari()&&(this.element.style.webkitTransition=e.join(", "))}});e.register("ftlabs~fastclick@v0.6.11",function(e,t){function s(e){"use strict";var t,i=this;this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=e;if(!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return s.prototype.onClick.apply(i,arguments)};this.onMouse=function(){return s.prototype.onMouse.apply(i,arguments)};this.onTouchStart=function(){return s.prototype.onTouchStart.apply(i,arguments)};this.onTouchMove=function(){return s.prototype.onTouchMove.apply(i,arguments)};this.onTouchEnd=function(){return s.prototype.onTouchEnd.apply(i,arguments)};this.onTouchCancel=function(){return s.prototype.onTouchCancel.apply(i,arguments)};if(!s.notNeeded(e)){if(this.deviceIsAndroid){e.addEventListener("mouseover",this.onMouse,!0);e.addEventListener("mousedown",this.onMouse,!0);e.addEventListener("mouseup",this.onMouse,!0)}e.addEventListener("click",this.onClick,!0);e.addEventListener("touchstart",this.onTouchStart,!1);e.addEventListener("touchmove",this.onTouchMove,!1);e.addEventListener("touchend",this.onTouchEnd,!1);e.addEventListener("touchcancel",this.onTouchCancel,!1);if(!Event.prototype.stopImmediatePropagation){e.removeEventListener=function(t,s,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(e,t,s.hijacked||s,i):n.call(e,t,s,i)};e.addEventListener=function(t,s,i){var n=Node.prototype.addEventListener;"click"===t?n.call(e,t,s.hijacked||(s.hijacked=function(e){e.propagationStopped||s(e)}),i):n.call(e,t,s,i)}}if("function"==typeof e.onclick){t=e.onclick;e.addEventListener("click",function(e){t(e)},!1);e.onclick=null}}}s.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;s.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);s.prototype.deviceIsIOS4=s.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);s.prototype.deviceIsIOSWithBadTarget=s.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);s.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)};s.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}};s.prototype.sendClick=function(e,t){"use strict";var s,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur();i=t.changedTouches[0];(s=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);s.forwardedTouchEvent=!0;e.dispatchEvent(s)};s.prototype.determineEventType=function(e){"use strict";return this.deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"};s.prototype.focus=function(e){"use strict";var t;if(this.deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type){t=e.value.length;e.setSelectionRange(t,t)}else e.focus()};s.prototype.updateScrollParent=function(e){"use strict";var t,s;if(!(t=e.fastClickScrollParent)||!t.contains(e)){s=e;do{if(s.scrollHeight>s.offsetHeight){t=s;e.fastClickScrollParent=s;break}s=s.parentElement}while(s)}t&&(t.fastClickLastScrollTop=t.scrollTop)};s.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e};s.prototype.onTouchStart=function(e){"use strict";var t,s,i;if(e.targetTouches.length>1)return!0;t=this.getTargetElementFromEventTarget(e.target);s=e.targetTouches[0];if(this.deviceIsIOS){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(s.identifier===this.lastTouchIdentifier){e.preventDefault();return!1}this.lastTouchIdentifier=s.identifier;this.updateScrollParent(t)}}this.trackingClick=!0;this.trackingClickStart=e.timeStamp;this.targetElement=t;this.touchStartX=s.pageX;this.touchStartY=s.pageY;e.timeStamp-this.lastClickTime<200&&e.preventDefault();return!0};s.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],s=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>s||Math.abs(t.pageY-this.touchStartY)>s};s.prototype.onTouchMove=function(e){"use strict";if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e)){this.trackingClick=!1;this.targetElement=null}return!0};s.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};s.prototype.onTouchEnd=function(e){"use strict";var t,s,i,n,o,l=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200){this.cancelNextClick=!0;return!0}this.cancelNextClick=!1;this.lastClickTime=e.timeStamp;s=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){o=e.changedTouches[0];(l=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||l).fastClickScrollParent=this.targetElement.fastClickScrollParent}if("label"===(i=l.tagName.toLowerCase())){if(t=this.findControl(l)){this.focus(l);if(this.deviceIsAndroid)return!1;l=t}}else if(this.needsFocus(l)){if(e.timeStamp-s>100||this.deviceIsIOS&&window.top!==window&&"input"===i){this.targetElement=null;return!1}this.focus(l);if(!this.deviceIsIOS4||"select"!==i){this.targetElement=null;e.preventDefault()}return!1}if(this.deviceIsIOS&&!this.deviceIsIOS4&&(n=l.fastClickScrollParent)&&n.fastClickLastScrollTop!==n.scrollTop)return!0;if(!this.needsClick(l)){e.preventDefault();this.sendClick(l,e)}return!1};s.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1;this.targetElement=null};s.prototype.onMouse=function(e){"use strict";if(!this.targetElement)return!0;if(e.forwardedTouchEvent)return!0;if(!e.cancelable)return!0;if(!this.needsClick(this.targetElement)||this.cancelNextClick){e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0;e.stopPropagation();e.preventDefault();return!1}return!0};s.prototype.onClick=function(e){"use strict";var t;if(this.trackingClick){this.targetElement=null;this.trackingClick=!1;return!0}if("submit"===e.target.type&&0===e.detail)return!0;(t=this.onMouse(e))||(this.targetElement=null);return t};s.prototype.destroy=function(){"use strict";var e=this.layer;if(this.deviceIsAndroid){e.removeEventListener("mouseover",this.onMouse,!0);e.removeEventListener("mousedown",this.onMouse,!0);e.removeEventListener("mouseup",this.onMouse,!0)}e.removeEventListener("click",this.onClick,!0);e.removeEventListener("touchstart",this.onTouchStart,!1);e.removeEventListener("touchmove",this.onTouchMove,!1);e.removeEventListener("touchend",this.onTouchEnd,!1);e.removeEventListener("touchcancel",this.onTouchCancel,!1)};s.notNeeded=function(e){"use strict";var t,i;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!s.prototype.deviceIsAndroid)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===e.style.msTouchAction};s.attach=function(e){"use strict";return new s(e)};if("undefined"!=typeof define&&define.amd)define(function(){"use strict";return s});else if(void 0!==t&&t.exports){t.exports=s.attach;t.exports.FastClick=s}else window.FastClick=s});e.register("component~indexof@0.0.3",function(e,t){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var s=0;s<e.length;++s)if(e[s]===t)return s;return-1}});e.register("component~classes@1.2.1",function(t,s){var i=e("component~indexof@0.0.3"),n=/\s+/,o=Object.prototype.toString;s.exports=function(e){return new l(e)};function l(e){if(!e)throw new Error("A DOM element reference is required");this.el=e;this.list=e.classList}l.prototype.add=function(e){if(this.list){this.list.add(e);return this}var t=this.array();~i(t,e)||t.push(e);this.el.className=t.join(" ");return this};l.prototype.remove=function(e){if("[object RegExp]"==o.call(e))return this.removeMatching(e);if(this.list){this.list.remove(e);return this}var t=this.array(),s=i(t,e);~s&&t.splice(s,1);this.el.className=t.join(" ");return this};l.prototype.removeMatching=function(e){for(var t=this.array(),s=0;s<t.length;s++)e.test(t[s])&&this.remove(t[s]);return this};l.prototype.toggle=function(e,t){if(this.list){void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e);return this}void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e);return this};l.prototype.array=function(){var e=this.el.className.replace(/^\s+|\s+$/g,"").split(n);""===e[0]&&e.shift();return e};l.prototype.has=l.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)}});e.register("component~event@0.1.4",function(e,t){var s=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",n="addEventListener"!==s?"on":"";e.bind=function(e,t,i,o){e[s](n+t,i,o||!1);return i};e.unbind=function(e,t,s,o){e[i](n+t,s,o||!1);return s}});e.register("component~query@0.0.3",function(e,t){function s(e,t){return t.querySelector(e)}(e=t.exports=function(e,t){return s(e,t=t||document)}).all=function(e,t){return(t=t||document).querySelectorAll(e)};e.engine=function(t){if(!t.one)throw new Error(".one callback required");if(!t.all)throw new Error(".all callback required");s=t.one;e.all=t.all;return e}});e.register("component~matches-selector@0.1.5",function(t,s){var i=e("component~query@0.0.3"),n=Element.prototype,o=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;s.exports=function(e,t){if(!e||1!==e.nodeType)return!1;if(o)return o.call(e,t);for(var s=i.all(t,e.parentNode),n=0;n<s.length;++n)if(s[n]==e)return!0;return!1}});e.register("component~closest@0.1.4",function(t,s){var i=e("component~matches-selector@0.1.5");s.exports=function(e,t,s,n){e=s?{parentNode:e}:e;n=n||document;for(;(e=e.parentNode)&&e!==document;){if(i(e,t))return e;if(e===n)return}}});e.register("component~delegate@0.2.3",function(t,s){var i=e("component~closest@0.1.4"),n=e("component~event@0.1.4");t.bind=function(e,t,s,o,l){return n.bind(e,s,function(s){var n=s.target||s.srcElement;s.delegateTarget=i(n,t,!0,e);s.delegateTarget&&o.call(e,s)},l)};t.unbind=function(e,t,s,i){n.unbind(e,t,s,i)}});e.register("component~events@1.0.9",function(t,s){var i=e("component~event@0.1.4"),n=e("component~delegate@0.2.3");s.exports=o;function o(e,t){if(!(this instanceof o))return new o(e,t);if(!e)throw new Error("element required");if(!t)throw new Error("object required");this.el=e;this.obj=t;this._events={}}o.prototype.sub=function(e,t,s){this._events[e]=this._events[e]||{};this._events[e][t]=s};o.prototype.bind=function(e,t){var s=function(e){var t=e.split(/ +/);return{name:t.shift(),selector:t.join(" ")}}(e),o=this.el,l=this.obj,r=s.name,a=(t=t||"on"+r,[].slice.call(arguments,2));function c(){var e=[].slice.call(arguments).concat(a);l[t].apply(l,e)}s.selector?c=n.bind(o,s.selector,r,c):i.bind(o,r,c);this.sub(r,t,c);return c};o.prototype.unbind=function(e,t){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(e);var s=this._events[e];if(s){var n=s[t];n&&i.unbind(this.el,e,n)}};o.prototype.unbindAll=function(){for(var e in this._events)this.unbindAllOf(e)};o.prototype.unbindAllOf=function(e){var t=this._events[e];if(t)for(var s in t)this.unbind(e,s)}});e.register("switchery",function(t,s){var i=e("abpetkov~transitionize@0.0.3"),n=e("ftlabs~fastclick@v0.6.11"),o=e("component~classes@1.2.1"),l=e("component~events@1.0.9");s.exports=a;var r={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};function a(e,t){if(!(this instanceof a))return new a(e,t);this.element=e;this.options=t||{};for(var s in r)null==this.options[s]&&(this.options[s]=r[s]);null!=this.element&&"checkbox"==this.element.type&&this.init();!0===this.isDisabled()&&this.disable()}a.prototype.hide=function(){this.element.style.display="none"};a.prototype.show=function(){var e=this.create();this.insertAfter(this.element,e)};a.prototype.create=function(){this.switcher=document.createElement("span");this.jack=document.createElement("small");this.switcher.appendChild(this.jack);this.switcher.className=this.options.className;this.events=l(this.switcher,this);return this.switcher};a.prototype.insertAfter=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)};a.prototype.setPosition=function(e){var t=this.isChecked(),s=this.switcher,i=this.jack;e&&t?t=!1:e&&!t&&(t=!0);if(!0===t){this.element.checked=!0;window.getComputedStyle?i.style.left=parseInt(window.getComputedStyle(s).width)-parseInt(window.getComputedStyle(i).width)+"px":i.style.left=parseInt(s.currentStyle.width)-parseInt(i.currentStyle.width)+"px";this.options.color&&this.colorize();this.setSpeed()}else{i.style.left=0;this.element.checked=!1;this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor;this.switcher.style.borderColor=this.options.secondaryColor;this.switcher.style.backgroundColor=this.options.secondaryColor!==r.secondaryColor?this.options.secondaryColor:"#fff";this.jack.style.backgroundColor=this.options.jackSecondaryColor!==this.options.jackColor?this.options.jackSecondaryColor:this.options.jackColor;this.setSpeed()}};a.prototype.setSpeed=function(){var e={},t={"background-color":this.options.speed,left:this.options.speed.replace(/[a-z]/,"")/2+"s"};e=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed};i(this.switcher,e);i(this.jack,t)};a.prototype.setSize=function(){switch(this.options.size){case"small":o(this.switcher).add("switchery-small");break;case"large":o(this.switcher).add("switchery-large");break;default:o(this.switcher).add("switchery-default")}};a.prototype.colorize=function(){var e=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color;this.switcher.style.borderColor=this.options.color;this.switcher.style.boxShadow="inset 0 0 0 "+e+"px "+this.options.color;this.jack.style.backgroundColor=this.options.jackColor};a.prototype.handleOnchange=function(e){if(document.dispatchEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0);this.element.dispatchEvent(t)}else this.element.fireEvent("onchange")};a.prototype.handleChange=function(){var e=this,t=this.element;t.addEventListener?t.addEventListener("change",function(){e.setPosition()}):t.attachEvent("onchange",function(){e.setPosition()})};a.prototype.handleClick=function(){var e=this.switcher;n(e);this.events.bind("click","bindClick")};a.prototype.bindClick=function(){var e="label"!==this.element.parentNode.tagName.toLowerCase();this.setPosition(e);this.handleOnchange(this.element.checked)};a.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)};a.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")};a.prototype.init=function(){this.hide();this.show();this.setSize();this.setPosition();this.markAsSwitched();this.handleChange();this.handleClick()};a.prototype.isChecked=function(){return this.element.checked};a.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly};a.prototype.destroy=function(){this.events.unbind()};a.prototype.enable=function(){this.options.disabled&&(this.options.disabled=!1);this.element.disabled&&(this.element.disabled=!1);this.element.readOnly&&(this.element.readOnly=!1);this.switcher.style.opacity=1;this.events.bind("click","bindClick")};a.prototype.disable=function(){this.options.disabled&&(this.options.disabled=!0);this.element.disabled&&(this.element.disabled=!0);this.element.readOnly&&(this.element.readOnly=!0);this.switcher.style.opacity=this.options.disabledOpacity;this.destroy()}});"object"==typeof exports?module.exports=e("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return e("switchery")}):(this||window).Switchery=e("switchery")}();function ajustarPanell(){if(tocHeightBefore!=$("#toc").height()){$("#arbol").scrollTop($("#arbol").scrollTop()+($("#toc").height()-tocHeightBefore));tocHeightBefore=$("#toc").height()}if($("#bms").hasClass("tc-collapsed")||$("#catalog").hasClass("tc-collapsed"))if($("#xdata").hasClass("tc-collapsed")||$("#catalog").hasClass("tc-collapsed"))if($("#toc").hasClass("tc-collapsed")||$("#catalog").hasClass("tc-collapsed")){$("#arbol").css("height","calc("+$(window).height()+"px - "+($("#links").outerHeight()+$("#bms").children("h2").outerHeight()+$("#catalog").children("h2").outerHeight()+$("#xdata").children("h2").outerHeight()+$("#toc").children("h2").outerHeight()+($("#mapa").outerHeight()-$("#tools-panel").children(".panel-content").outerHeight()))+"px)");$(".tc-ctl-lcat-search").css("height","calc("+$(window).height()+"px - "+($("#links").outerHeight()+$("#bms").children("h2").outerHeight()+$("#catalog").children("h2").outerHeight()+$("#xdata").children("h2").outerHeight()+$("#toc").children("h2").outerHeight()+($("#mapa").outerHeight()-$("#tools-panel").children(".panel-content").outerHeight()))+"px)")}else{$("#arbol").css("height","calc("+$(window).height()+"px - "+($("#links").outerHeight()+$("#bms").children("h2").outerHeight()+$("#catalog").children("h2").outerHeight()+$("#xdata").children("h2").outerHeight()+$("#toc").outerHeight()+($("#mapa").outerHeight()-$("#tools-panel").children(".panel-content").outerHeight()))+"px)");$(".tc-ctl-lcat-search").css("height","calc("+$(window).height()+"px - "+($("#links").outerHeight()+$("#bms").children("h2").outerHeight()+$("#catalog").children("h2").outerHeight()+$("#xdata").children("h2").outerHeight()+$("#toc").outerHeight()+($("#mapa").outerHeight()-$("#tools-panel").children(".panel-content").outerHeight()))+"px)")}else{$("#arbol").css("height","calc("+$(window).height()+"px - "+($("#links").outerHeight()+$("#bms").children("h2").outerHeight()+$("#catalog").children("h2").outerHeight()+$("#xdata").outerHeight()+$("#toc").children("h2").outerHeight()+($("#mapa").outerHeight()-$("#tools-panel").children(".panel-content").outerHeight()))+"px)");$(".tc-ctl-lcat-search").css("height","calc("+$(window).height()+"px - "+($("#links").outerHeight()+$("#bms").children("h2").outerHeight()+$("#catalog").children("h2").outerHeight()+$("#xdata").outerHeight()+$("#toc").children("h2").outerHeight()+($("#mapa").outerHeight()-$("#tools-panel").children(".panel-content").outerHeight()))+"px)")}else{$("#arbol").css("height","calc("+$(window).height()+"px - "+($("#links").outerHeight()+$("#bms").outerHeight()+$("#catalog").children("h2").outerHeight()+$("#xdata").children("h2").outerHeight()+$("#toc").children("h2").outerHeight()+($("#mapa").outerHeight()-$("#tools-panel").children(".panel-content").outerHeight()))+"px)");$(".tc-ctl-lcat-search").css("height","calc("+$(window).height()+"px - "+($("#links").outerHeight()+$("#bms").outerHeight()+$("#catalog").children("h2").outerHeight()+$("#xdata").children("h2").outerHeight()+$("#toc").children("h2").outerHeight()+($("#mapa").outerHeight()-$("#tools-panel").children(".panel-content").outerHeight()))+"px)")}$(".tc-ctl-legend-tree").css("height","calc("+.85*$(window).height()+"px")}$(window).resize(function(){ajustarPanell()});
//# sourceMappingURL=maps/script.min.js.map
