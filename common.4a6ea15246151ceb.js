"use strict";(self.webpackChunkviewer_app=self.webpackChunkviewer_app||[]).push([[592],{3575:(h,m,a)=>{a.d(m,{M:()=>l});var t=a(2082),p=a(8590),d=a(2504),r=a(127),c=a(2134);let l=(()=>{class i{constructor(e,o,n){this.router=e,this.commonService=o,this.modal=n,this.page=1,this.size=2,this.keywords="",this.totalElements=0,this.type=t.Z.APPLICATIONS,this.items=[]}ngOnInit(){this.searchDashboardItems(this.page,1)}searchDashboardItems(e,o,n){this.commonService.fetchDashboardItems(this.type,e-1,this.size,n).subscribe(s=>{this.items=s.content,this.totalElements=s.totalElements})}onTypeChange(e){e===t.Z.APPLICATIONS?this.type=t.Z.APPLICATIONS:e===t.Z.TERRITORIES&&(this.type=t.Z.TERRITORIES),this.items=[],this.page=1,this.searchDashboardItems(this.page)}openModal(e,o){this.modal.open(p.k,{data:{id:e,type:this.type,items:o}}).afterClosed.subscribe(({applicationId:s,territoryId:g})=>{s&&g&&this.navigateToMap(s,g)})}switchLength(e,o){if(1===e.length){let n,s;this.type===t.Z.APPLICATIONS?(n=o,s=e[0].id):this.type===t.Z.TERRITORIES&&(n=e[0].id,s=o),this.navigateToMap(n,s)}else this.openModal(o,e)}onCardClicked(e){let o;this.type===t.Z.APPLICATIONS?o=this.commonService.fetchTerritoriesByApplication(e):this.type===t.Z.TERRITORIES&&(o=this.commonService.fetchApplicationsByTerritory(e)),o?.subscribe(n=>{if(n.numberOfElements&&n.content){let s=n.content;this.type===t.Z.TERRITORIES&&(s=s.map(g=>({id:g.id,name:g.title}))),this.switchLength(s,e)}})}onKeywordsSearch(e){this.page=1,this.searchDashboardItems(this.page,this.size,e)}onPageChange(e){this.page=e,this.searchDashboardItems(e,this.size,this.keywords)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(r.F0),d.Y36(t.v),d.Y36(c.V))},i.\u0275dir=d.lG2({type:i}),i})()},2863:(h,m,a)=>{a.d(m,{G:()=>e});var t=a(7111),p=a(4755),d=a(5885),r=a(2504),c=a(5099),l=a(127),i=a(2082),_=a(2134);let e=(()=>{class o extends t.R{constructor(s,g,u,C,P,O,E,M,f){super(s,g,u,C,P,O,E,M,f)}navigateToMap(){this.router.navigateByUrl(d.Ft.Section.User.Map(this.applicationId,this.territoryId))}navigateToDashboard(){this.router.navigateByUrl(d.Ft.Section.User.Dashboard)}}return o.\u0275fac=function(s){return new(s||o)(r.Y36(c.sK),r.Y36(p.Ye),r.Y36(l.gz),r.Y36(l.F0),r.Y36(i.v),r.Y36(_.V),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(p.K0))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-map"]],features:[r.qOj],decls:3,vars:0,consts:[[1,"map"],[1,"map-container"],["id","mapa"]],template:function(s,g){1&s&&(r.TgZ(0,"div",0)(1,"div",1),r._UZ(2,"div",2),r.qZA()())},styles:[".map[_ngcontent-%COMP%]{display:flex;flex-direction:column}.map[_ngcontent-%COMP%]   .map-options[_ngcontent-%COMP%]{display:flex;justify-content:right;position:relative;bottom:60px;margin-right:600px}.map[_ngcontent-%COMP%]   .map-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:35px;width:80px;margin:0 10px;background:white}.map[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}"]}),o})()},2730:(h,m,a)=>{a.d(m,{O:()=>r});var t=a(2504),p=a(2082),d=a(5099);let r=(()=>{class c{constructor(){this.type=new t.vpe,this.DashboardTypes=p.Z,this.applicationSelected=!0,this.territoriesSelected=!1,this.type.emit(p.Z.APPLICATIONS)}onClick(i){i===p.Z.APPLICATIONS?(this.applicationSelected=!0,this.territoriesSelected=!1):i===p.Z.TERRITORIES&&(this.territoriesSelected=!0,this.applicationSelected=!1),this.type.emit(i)}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-dashboard-buttons"]],outputs:{type:"type"},decls:7,vars:10,consts:[[1,"dashboard-buttons"],["type","button",3,"click"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return _.onClick(_.DashboardTypes.APPLICATIONS)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return _.onClick(_.DashboardTypes.TERRITORIES)}),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&i&&(t.xp6(1),t.ekj("selected",_.applicationSelected),t.xp6(1),t.hij(" ",t.lcZ(3,6,"dashboardPage.applicationsTitle")," "),t.xp6(2),t.ekj("selected",_.territoriesSelected),t.xp6(1),t.hij(" ",t.lcZ(6,8,"dashboardPage.territoriesTitle")," "))},dependencies:[d.X$],styles:[".dashboard-buttons[_ngcontent-%COMP%]{margin-bottom:40px;display:flex;gap:30px}.dashboard-buttons[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#000;background-color:transparent;order:1;padding-left:0;padding-right:0;font-size:1.6em}.dashboard-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ff9300;color:#fff;border:none;line-height:40px;border-radius:20px;padding-left:20px;padding-right:20px;font-size:1.2em;order:2}.dashboard-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.selected){background-color:#e18200;cursor:pointer}"]}),c})()},8056:(h,m,a)=>{a.d(m,{W:()=>_});var t=a(2504),p=a(4755),d=a(4333);function r(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",6),t._UZ(2,"img",7),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("src",n.img,t.LSH)}}function c(e,o){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"img",7),t.qZA()),2&e){const n=t.oxw().$implicit;t.Gre("card-img card-img",n.id,""),t.xp6(1),t.s9C("src",n.logo?n.logo:"assets/img/card-no-image.svg",t.LSH)}}function l(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const u=t.CHM(n).$implicit,C=t.oxw();return t.KtG(C.onCardClicked(u.id))}),t.YNc(1,r,3,1,"ng-container",3),t.YNc(2,c,2,4,"ng-template",null,4,t.W1O),t.TgZ(4,"div",5)(5,"div")(6,"strong"),t._uU(7),t.qZA()()()()}if(2&e){const n=o.$implicit,s=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.img)("ngIfElse",s),t.xp6(6),t.AsE("",n.title," ",n.name,"")}}const i=function(e,o,n){return{currentPage:e,itemsPerPage:o,totalItems:n,id:"pagination_dashboard"}};let _=(()=>{class e{constructor(){this.items=[],this.page=0,this.size=0,this.totalElements=0,this.id=new t.vpe}onCardClicked(n){this.id.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-items"]],inputs:{items:"items",page:"page",size:"size",totalElements:"totalElements"},outputs:{id:"id"},decls:3,vars:8,consts:[[1,"cards-container"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[4,"ngIf","ngIfElse"],["noimg",""],[1,"card-titles"],[1,"card-img"],[3,"src"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0),t.YNc(1,l,8,4,"div",1),t.ALo(2,"paginate"),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,s.items,t.kEZ(4,i,s.page.toString(),s.size,s.totalElements))))},dependencies:[p.sg,p.O5,d._s],styles:[".cards-container[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:calc(33.3333333333% - 13.3333333333px) calc(33.3333333333% - 13.3333333333px) calc(33.3333333333% - 13.3333333333px);grid-template-columns:calc(25% - 15px) calc(25% - 15px) calc(25% - 15px) calc(25% - 15px)}.cards-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:10px;background-color:#fff;cursor:pointer}.cards-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:100%}.cards-container[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:80%;width:100%;aspect-ratio:3/2;object-fit:cover;border-top-left-radius:10px;border-top-right-radius:10px}.cards-container[_ngcontent-%COMP%]   .card-titles[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px;gap:10px}@media (max-width: 540px){.cards-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:95%;width:95%;margin:4px}}"]}),e})()},57:(h,m,a)=>{a.d(m,{z:()=>r});var t=a(2504),p=a(4333),d=a(5099);let r=(()=>{class c{constructor(){this.page=new t.vpe}handlePageChange(i){this.page.emit(i)}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-dashboard-pagination"]],outputs:{page:"page"},decls:4,vars:6,consts:[[1,"dashboard-pagination"],["id","pagination_dashboard",3,"previousLabel","nextLabel","pageChange"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0)(1,"pagination-controls",1),t.NdJ("pageChange",function(o){return _.handlePageChange(o)}),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()()),2&i&&(t.xp6(1),t.s9C("previousLabel",t.lcZ(2,2,"paginate.previous")),t.s9C("nextLabel",t.lcZ(3,4,"paginate.next")))},dependencies:[p.LS,d.X$],styles:[".ngx-pagination{display:flex;justify-content:center;align-items:center;margin-top:50px}  .ngx-pagination .current{background:#FF9300!important}"]}),c})()}}]);