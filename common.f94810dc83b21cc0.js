"use strict";(self.webpackChunkviewer_app=self.webpackChunkviewer_app||[]).push([[592],{3575:(h,g,o)=>{o.d(g,{M:()=>m});var t=o(2082),d=o(8590),p=o(2504),i=o(1179),c=o(2134);let m=(()=>{class s{constructor(a,n,r){this.router=a,this.commonService=n,this.modal=r,this.page=1,this.size=2,this.keywords="",this.totalElements=0,this.type=t.Z.APPLICATIONS,this.items=[]}ngOnInit(){this.searchDashboardItems(this.page,1)}searchDashboardItems(a,n,r){this.commonService.fetchDashboardItems(this.type,a-1,this.size,r).subscribe(e=>{this.items=e.content,this.totalElements=e.totalElements})}onTypeChange(a){a===t.Z.APPLICATIONS?this.type=t.Z.APPLICATIONS:a===t.Z.TERRITORIES&&(this.type=t.Z.TERRITORIES),this.items=[],this.page=1,this.searchDashboardItems(this.page)}openModal(a,n){this.modal.open(d.k,{data:{id:a,type:this.type,items:n}}).afterClosed.subscribe(({applicationId:e,territoryId:_})=>{e&&_&&this.navigateToMap(e,_)})}switchLength(a,n){if(1===a.length){let r,e;this.type===t.Z.APPLICATIONS?(r=n,e=a[0].id):this.type===t.Z.TERRITORIES&&(r=a[0].id,e=n),this.navigateToMap(r,e)}else this.openModal(n,a)}onCardClicked(a){let n;this.type===t.Z.APPLICATIONS?n=this.commonService.fetchTerritoriesByApplication(a):this.type===t.Z.TERRITORIES&&(n=this.commonService.fetchApplicationsByTerritory(a)),n?.subscribe(r=>{if(r.numberOfElements&&r.content){let e=r.content;this.type===t.Z.TERRITORIES&&(e=e.map(_=>({id:_.id,name:_.title}))),this.switchLength(e,a)}})}onKeywordsSearch(a){this.page=1,this.searchDashboardItems(this.page,this.size,a)}onPageChange(a){this.page=a,this.searchDashboardItems(a,this.size,this.keywords)}}return s.\u0275fac=function(a){return new(a||s)(p.Y36(i.F0),p.Y36(t.v),p.Y36(c.V))},s.\u0275dir=p.lG2({type:s}),s})()},2863:(h,g,o)=>{o.d(g,{G:()=>a});var t=o(2438),d=o(4755),p=o(5885),i=o(2504),c=o(5099),m=o(1179),s=o(2082),l=o(2134);let a=(()=>{class n extends t.R{constructor(e,_,P,C,u,O,E,M,b){super(e,_,P,C,u,O,E,M,b)}navigateToMap(){this.router.navigateByUrl(p.Ft.Section.User.Map(this.applicationId,this.territoryId))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(c.sK),i.Y36(d.Ye),i.Y36(m.gz),i.Y36(m.F0),i.Y36(s.v),i.Y36(l.V),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(d.K0))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-map"]],features:[i.qOj],decls:3,vars:0,consts:[[1,"map"],[1,"map-container"],["id","mapa"]],template:function(e,_){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"div",2),i.qZA()())},styles:[".map[_ngcontent-%COMP%]{display:flex;flex-direction:column}.map[_ngcontent-%COMP%]   .map-options[_ngcontent-%COMP%]{display:flex;justify-content:right;position:relative;bottom:60px;margin-right:600px}.map[_ngcontent-%COMP%]   .map-options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:35px;width:80px;margin:0 10px;background:white}.map[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{position:absolute;height:calc(100% - 80px);width:100%}"]}),n})()},2730:(h,g,o)=>{o.d(g,{O:()=>i});var t=o(2504),d=o(2082),p=o(5099);let i=(()=>{class c{constructor(){this.type=new t.vpe,this.DashboardTypes=d.Z,this.applicationSelected=!0,this.territoriesSelected=!1,this.type.emit(d.Z.APPLICATIONS)}onClick(s){s===d.Z.APPLICATIONS?(this.applicationSelected=!0,this.territoriesSelected=!1):s===d.Z.TERRITORIES&&(this.territoriesSelected=!0,this.applicationSelected=!1),this.type.emit(s)}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-dashboard-buttons"]],outputs:{type:"type"},decls:7,vars:10,consts:[[1,"dashboard-buttons"],["type","button",3,"click"]],template:function(s,l){1&s&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return l.onClick(l.DashboardTypes.APPLICATIONS)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return l.onClick(l.DashboardTypes.TERRITORIES)}),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&s&&(t.xp6(1),t.ekj("selected",l.applicationSelected),t.xp6(1),t.hij(" ",t.lcZ(3,6,"dashboardPage.applicationsTitle")," "),t.xp6(2),t.ekj("selected",l.territoriesSelected),t.xp6(1),t.hij(" ",t.lcZ(6,8,"dashboardPage.territoriesTitle")," "))},dependencies:[p.X$],styles:[".dashboard-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;align-items:center;justify-content:space-between;margin:80px 20px 0}.dashboard-buttons[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#27187e;border-color:#27187e}.dashboard-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:700;font-size:30px;color:#758bfd;background:white;border:none;border-bottom:3px solid #758BFD;padding-bottom:5px}.dashboard-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#27187e;border-color:#27187e}.dashboard-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#27187e;border-color:#27187e}"]}),c})()},8056:(h,g,o)=>{o.d(g,{W:()=>a});var t=o(2504),d=o(4755),p=o(5099),i=o(4333);function c(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",6),t._UZ(2,"img",7),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",e.img,t.LSH)}}function m(n,r){1&n&&(t.TgZ(0,"div",6),t._UZ(1,"img",8),t.qZA())}function s(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const C=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.onCardClicked(C.id))}),t.YNc(1,c,3,1,"ng-container",3),t.YNc(2,m,2,0,"ng-template",null,4,t.W1O),t.TgZ(4,"div",5)(5,"label"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA()()()}if(2&n){const e=r.$implicit,_=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.img)("ngIfElse",_),t.xp6(5),t.lnq("",t.lcZ(7,7,"dashboardPage.name"),": ",e.title," ",e.name,""),t.xp6(3),t.AsE("",t.lcZ(10,9,"dashboardPage.id"),": ",e.id,"")}}const l=function(n,r,e){return{currentPage:n,itemsPerPage:r,totalItems:e,id:"pagination_dashboard"}};let a=(()=>{class n{constructor(){this.items=[],this.page=0,this.size=0,this.totalElements=0,this.id=new t.vpe}onCardClicked(e){this.id.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard-items"]],inputs:{items:"items",page:"page",size:"size",totalElements:"totalElements"},outputs:{id:"id"},decls:3,vars:8,consts:[[1,"cards-container"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[4,"ngIf","ngIfElse"],["noimg",""],[1,"card-titles"],[1,"card-img"],[3,"src"],["src","assets/img/card-no-image.svg"]],template:function(e,_){1&e&&(t.TgZ(0,"div",0),t.YNc(1,s,11,11,"div",1),t.ALo(2,"paginate"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,_.items,t.kEZ(4,l,_.page.toString(),_.size,_.totalElements))))},dependencies:[d.sg,d.O5,p.X$,i._s],styles:[".cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start}.cards-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;width:21%;min-width:384px;max-width:-moz-fit-content;max-width:fit-content;align-items:center;margin:8px;color:#1a0e00;background:white;border:3px solid #27187e;border-radius:15px}.cards-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{border:3px solid #758BFD}.cards-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#758bfd;opacity:100%}.cards-container[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:-moz-fit-content;width:fit-content;margin:8px;border-radius:10px}.cards-container[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:96px;height:96px;border-radius:20px;opacity:50%}.cards-container[_ngcontent-%COMP%]   .card-titles[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:8px}.cards-container[_ngcontent-%COMP%]   .card-titles[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:4px}"]}),n})()},57:(h,g,o)=>{o.d(g,{z:()=>i});var t=o(2504),d=o(4333),p=o(5099);let i=(()=>{class c{constructor(){this.page=new t.vpe}handlePageChange(s){this.page.emit(s)}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-dashboard-pagination"]],outputs:{page:"page"},decls:4,vars:6,consts:[[1,"dashboard-pagination"],["id","pagination_dashboard",3,"previousLabel","nextLabel","pageChange"]],template:function(s,l){1&s&&(t.TgZ(0,"div",0)(1,"pagination-controls",1),t.NdJ("pageChange",function(n){return l.handlePageChange(n)}),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()()),2&s&&(t.xp6(1),t.s9C("previousLabel",t.lcZ(2,2,"paginate.previous")),t.s9C("nextLabel",t.lcZ(3,4,"paginate.next")))},dependencies:[d.LS,p.X$],styles:[".ngx-pagination{display:flex;justify-content:center;align-items:center}  .ngx-pagination .current{background:#FF9300!important}"]}),c})()}}]);